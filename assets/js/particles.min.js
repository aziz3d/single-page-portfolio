!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).ParticlesEffect=e()}(this,function(){"use strict";function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach(function(e){i(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var o={particles:{count:100,color:"#6366f1",minSize:1,maxSize:3,speed:1,opacity:.7,linkColor:"#6366f1",linkOpacity:.3,linkDistance:150,direction:"center"},background:{color:"#111827"},interactive:!0,fps:60},a=function(){function t(e,i){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.options=s(s({},o),i),this.width=0,this.height=0,this.context=null,this.particles=[],this.animationFrame=null,this.resizeTimeout=null,this.isRunning=!1,this.init(),window.addEventListener("resize",function(){n.resize()})}return e(t,[{key:"init",value:function(){this.createCanvas(),this.createParticles(),this.bindEvents(),this.start()}},{key:"createCanvas",value:function(){var t=document.createElement("canvas");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.zIndex="-1",this.element.appendChild(t),this.context=t.getContext("2d"),this.resize()}},{key:"resize",value:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){var e=t.element.offsetWidth,i=t.element.offsetHeight;t.width=e,t.height=i,t.context.canvas.width=e,t.context.canvas.height=i,t.createParticles()},200)}},{key:"createParticles",value:function(){this.particles=[];for(var t=0;t<this.options.particles.count;t++){var e=Math.random()*this.width,i=Math.random()*this.height,n=Math.random()*(this.options.particles.maxSize-this.options.particles.minSize)+this.options.particles.minSize,s=2*Math.random()-1,o=2*Math.random()-1,a=Math.sqrt(s*s+o*o);s/=a,o/=a;var r=Math.random()*this.options.particles.speed;this.particles.push({x:e,y:i,size:n,speedX:s*r,speedY:o*r,opacity:Math.random()*this.options.particles.opacity+.1})}}},{key:"bindEvents",value:function(){var t=this;this.options.interactive&&(this.mousePosition={x:null,y:null},this.element.addEventListener("mousemove",function(e){var i=t.element.getBoundingClientRect();t.mousePosition.x=e.clientX-i.left,t.mousePosition.y=e.clientY-i.top}),this.element.addEventListener("mouseleave",function(e){t.mousePosition.x=null,t.mousePosition.y=null}))}},{key:"start",value:function(){var t=this;this.isRunning||(this.isRunning=!0,this.animate()),this.animationFrame=requestAnimationFrame(function(){return t.start()})}},{key:"stop",value:function(){this.isRunning=!1,cancelAnimationFrame(this.animationFrame)}},{key:"animate",value:function(){var t=this;if(this.isRunning){this.context.clearRect(0,0,this.width,this.height),this.context.fillStyle=this.options.background.color,this.context.fillRect(0,0,this.width,this.height);var e="center"===this.options.particles.direction;this.particles.forEach(function(i,n){i.x+=i.speedX,i.y+=i.speedY,(i.x<0||i.x>t.width)&&(i.speedX=-i.speedX),(i.y<0||i.y>t.height)&&(i.speedY=-i.speedY),e&&t.mousePosition.x&&t.mousePosition.y&&(i.speedX+=(t.mousePosition.x-i.x)/1e3*t.options.particles.speed,i.speedY+=(t.mousePosition.y-i.y)/1e3*t.options.particles.speed),t.context.beginPath(),t.context.arc(i.x,i.y,i.size,0,2*Math.PI),t.context.fillStyle="rgba(".concat(t.hexToRgb(t.options.particles.color),", ").concat(i.opacity,")"),t.context.fill(),t.particles.forEach(function(e,s){if(n!==s){var o=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));if(o<t.options.particles.linkDistance){var a=1-o/t.options.particles.linkDistance;t.context.beginPath(),t.context.moveTo(i.x,i.y),t.context.lineTo(e.x,e.y),t.context.strokeStyle="rgba(".concat(t.hexToRgb(t.options.particles.linkColor),", ").concat(a*t.options.particles.linkOpacity,")"),t.context.stroke()}}})})}}},{key:"hexToRgb",value:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16):"0,0,0"}}]),t}();return a});
